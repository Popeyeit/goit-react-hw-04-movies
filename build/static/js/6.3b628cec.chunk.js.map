{"version":3,"sources":["hoc/Loader.js","helpers/api.js","components/ListMovies/ListMovies.js","components/ListMovies/ListMovies.module.css","pages/HomePage/HomePage.js"],"names":["Loader","NestedComponent","state","loader","toggleLoader","status","setState","this","props","Component","API","process","getPopularMovies","axios","get","getMovie","id","getCast","getMovieByQuery","name","getReviews","ListMovies","movies","location","className","style","list","map","movie","key","item","link","to","pathname","from","title","module","exports","useLocation","useState","setMovies","error","setError","useEffect","getMovies","then","res","data","results","catch","finally"],"mappings":"6LAuBeA,IArBA,SAAAC,GACb,mNACEC,MAAQ,CACNC,QAAQ,GAFZ,EAIEC,aAAe,WAAqB,IAApBC,EAAmB,wDACjC,EAAKC,SAAS,CAAEH,OAAQE,KAL5B,uDAOY,IACAF,EAAWI,KAAKL,MAAhBC,OACR,OACE,kBAACF,EAAD,iBACMM,KAAKC,MADX,CAEEL,OAAQA,EACRC,aAAcG,KAAKH,oBAb3B,GAAqBK,e,gCCHvB,+LACMC,EAAMC,mCAECC,EAAmB,WAC9B,OAAOC,IAAMC,IAAN,kEACsDJ,KAIlDK,EAAW,SAAAC,GACtB,OAAOH,IAAMC,IAAN,6CACiCE,EADjC,qBACgDN,EADhD,qBAIIO,EAAU,SAAAD,GACrB,OAAOH,IAAMC,IAAN,6CACiCE,EADjC,4BACuDN,KAGnDQ,EAAkB,SAAAC,GAC7B,OAAON,IAAMC,IAAN,4DACgDJ,EADhD,wCACmFS,EADnF,0BAIIC,EAAa,SAAAJ,GACxB,OAAOH,IAAMC,IAAN,6CACiCE,EADjC,4BACuDN,EADvD,6B,gCCzBT,4CAsBeW,IAnBI,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAC5B,OACE,wBAAIC,UAAWC,IAAMC,MAClB,IACAJ,EAAOK,KAAI,SAAAC,GAAK,OACf,wBAAIC,IAAKD,EAAMZ,GAAIQ,UAAWC,IAAMK,MAClC,kBAAC,IAAD,CACEN,UAAWC,IAAMM,KACjBC,GAAI,CAAEC,SAAS,UAAD,OAAYL,EAAMZ,IAAMd,MAAO,CAAEgC,KAAMX,KAEpD,IACAK,EAAMO,MAAO,KACL,QAEX,O,mBChBVC,EAAOC,QAAU,CAAC,KAAO,yBAAyB,KAAO,yBAAyB,KAAO,2B,kGCoC1ErC,uBA/BE,SAAC,GAA8B,IAA5BG,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACpBmB,EAAWe,cAD4B,EAEjBC,mBAAS,IAFQ,mBAEtCjB,EAFsC,KAE9BkB,EAF8B,OAGnBD,mBAAS,MAHU,mBAGtCE,EAHsC,KAG/BC,EAH+B,KAI7CC,qBAAU,WACRC,MACC,IACH,IAAMA,EAAY,WAChBhC,cACGiC,MAAK,SAAAC,GACJN,EAAUM,EAAIC,KAAKC,YAEpBC,OAAM,SAAAR,GAAK,OAAIC,EAASD,MACxBS,SAAQ,kBAAM9C,GAAa,OAGhC,OACE,6BACG,IACAD,GAAU,2CAAqB,KAC9BA,IAAWsC,GACX,oCACE,gDAA0B,IAC1B,kBAAC,IAAD,CAAYlB,SAAUA,EAAUD,OAAQA,IAAW,KAEpD,IACFmB,GAAS,6EAAwD","file":"static/js/6.3b628cec.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nconst Loader = NestedComponent => {\n  return class extends Component {\n    state = {\n      loader: true,\n    };\n    toggleLoader = (status = false) => {\n      this.setState({ loader: status });\n    };\n    render() {\n      const { loader } = this.state;\n      return (\n        <NestedComponent\n          {...this.props}\n          loader={loader}\n          toggleLoader={this.toggleLoader}\n        />\n      );\n    }\n  };\n};\n\nexport default Loader;\n","import axios from 'axios';\nconst API = process.env.REACT_APP_CLIENT_API_KEY;\n\nexport const getPopularMovies = () => {\n  return axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API}`,\n  );\n};\n\nexport const getMovie = id => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${id}}?api_key=${API}&language=en-US`,\n  );\n};\nexport const getCast = id => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API}`,\n  );\n};\nexport const getMovieByQuery = name => {\n  return axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API}&language=en-US&page=1&query=${name}&include_adult=false`,\n  );\n};\nexport const getReviews = id => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API}&language=en-US&page=1`,\n  );\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport style from './ListMovies.module.css';\nconst ListMovies = ({ movies, location }) => {\n  return (\n    <ul className={style.list}>\n      {' '}\n      {movies.map(movie => (\n        <li key={movie.id} className={style.item}>\n          <NavLink\n            className={style.link}\n            to={{ pathname: `movies/${movie.id}`, state: { from: location } }}\n          >\n            {' '}\n            {movie.title}{' '}\n          </NavLink>{' '}\n        </li>\n      ))}{' '}\n    </ul>\n  );\n};\n\nexport default ListMovies;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ListMovies_list__3YbWs\",\"item\":\"ListMovies_item__1oLn8\",\"link\":\"ListMovies_link__3_qnS\"};","import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport ListMovies from '../../components/ListMovies/ListMovies';\nimport Loader from '../../hoc/Loader';\nimport { getPopularMovies } from '../../helpers/api';\n\nconst HomePage = ({ loader, toggleLoader }) => {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    getMovies();\n  }, []);\n  const getMovies = () => {\n    getPopularMovies()\n      .then(res => {\n        setMovies(res.data.results);\n      })\n      .catch(error => setError(error))\n      .finally(() => toggleLoader(false));\n  };\n\n  return (\n    <div>\n      {' '}\n      {loader && <p> Loading... </p>}{' '}\n      {!loader && !error && (\n        <>\n          <h1> Trending today </h1>{' '}\n          <ListMovies location={location} movies={movies} />{' '}\n        </>\n      )}{' '}\n      {error && <h2> OOOPS something went wrong, try again later </h2>}{' '}\n    </div>\n  );\n};\n\nexport default Loader(HomePage);\n"],"sourceRoot":""}